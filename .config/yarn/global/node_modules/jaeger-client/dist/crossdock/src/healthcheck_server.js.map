{"version":3,"sources":["../../../crossdock/src/healthcheck_server.js"],"names":["HealthcheckServer","app","use","json","head","req","res","sendStatus","listen","log","require","main","module","healthcheck"],"mappings":";;;;;;AAaA;;;;AACA;;;;AACA;;;;;;;AAdA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;IAMqBA,iB,GACnB,6BAAc;AAAA;;AACZ,MAAIC,MAAW,wBAAf;AACAA,MAAIC,GAAJ,CAAQ,qBAAWC,IAAX,EAAR;AACAF,MAAIG,IAAJ,CAAS,GAAT,EAAc,UAACC,GAAD,EAAMC,GAAN,EAAc;AAC1BA,QAAIC,UAAJ,CAAe,GAAf;AACD,GAFD;;AAIAN,MAAIO,MAAJ,CAAW,IAAX,EAAiB,YAAM;AACrB,sBAAQC,GAAR,CAAY,oCAAZ;AACD,GAFD;AAGD,C;;kBAXkBT,iB;;;AAcrB,IAAKU,OAAD,CAAeC,IAAf,KAAwBC,MAA5B,EAAoC;AAClC,MAAIC,cAAc,IAAIb,iBAAJ,EAAlB;AACD","file":"healthcheck_server.js","sourcesContent":["// @flow\n// Copyright (c) 2016 Uber Technologies, Inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except\n// in compliance with the License. You may obtain a copy of the License at\n//\n// http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software distributed under the License\n// is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express\n// or implied. See the License for the specific language governing permissions and limitations under\n// the License.\n\nimport express from 'express';\nimport bodyParser from 'body-parser';\nimport Helpers from './helpers';\n\nexport default class HealthcheckServer {\n  constructor() {\n    let app: any = express();\n    app.use(bodyParser.json());\n    app.head('/', (req, res) => {\n      res.sendStatus(200);\n    });\n\n    app.listen(8080, () => {\n      Helpers.log('Healthcheck server on port 8080...');\n    });\n  }\n}\n\nif ((require: any).main === module) {\n  let healthcheck = new HealthcheckServer();\n}\n"]}